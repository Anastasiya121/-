#include <iostream>
#include<Windows.h>
//Включение макросов
#include <stdarg.h>

using namespace std;
//Объявление функции, вычисляющей сумму чисел типа int по формуле:
S=a1*a2+a3*a4+a5*a6+.... 
int sum(int a, ...);

int main()
{
SetConsoleCP(1251);
SetConsoleOutputCP(1251);
//Вызов функции суммы целых чисел, передача восьми параметров и вывод результата
cout << "Сумма восьми чисел типа int: " << sum(8, 1, 2, 3, 4, 5, 6, 7, 8) << endl;
//Вызов функции суммы целых чисел, передача десяти параметров и вывод результата
cout << "Сумма десяти чисел типа int: " << sum(10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10) << endl;
//Вызов функции суммы целых чисел, передача двенадцати параметров и вывод результата
cout << "Сумма двенадцати чисел типа int: " << sum(12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12) << endl;
return 0;
}
//Определение функции, вычисляющей суммы целых чисел
int sum(int a, ...)
{
//Тип, предназначенный для хранения указателя на очередной аргумент
va_list arg; 
//Инициализация указателя 
va_start(arg, a);
int s = 0; 
for (int i = 0; i <a; i+=2) {
//Возвращение значения очередного аргумента и присваивание его переменной 
    int x = va_arg(arg, int);
    int y = va_arg(arg, int);
     s += x * y;
}
//Завершение перебора аргументов
va_end(arg);
return s;
}
