#include <iostream>
#include<Windows.h>
#include <stdio.h>
#include <ctime>

using namespace std;
//Объявление функции печати списка
int print(int* ma, int n);
//Объявление функции, удаление элемента с заданным номером
int* del(int* ma, int n);
//Объявление функции, добавление k элементов после элемента с заданным номером
int* dob(int* ma, int n, int m);

int main()
{
SetConsoleCP(1251);
SetConsoleOutputCP(1251);
srand(time(0));
int n;
cout<<"Введите размерность массива: " << endl;
cin >> n;
//Объявление динамического массива и выделение памяти под него
int* mas;
mas = new int[n];
//Заполнение массива рандомными числами от 1 до 7
for (int i = 0; i < n; i++)
	mas[i] = 1+rand() % 7;
cout << "Начальный массив:" << endl;
//Вызов функции печати массива
print(mas, n);
// Вызов функции удаления элемента
del(mas, n);
//Освобождение памяти из под массива
delete[] mas;
return 0;
}
//Определение функции, печать массива
int print(int* ma, int n) {	
for (int i = 0; i < n; i++) 
	cout << ma[i];
cout << endl;
return 0;
}
//Определение функции, удаление элемента
int* del(int* ma, int n) {
	//Счётчик кол-ва элементов
int m;
cout<<"Введите номер удаляемого элемента: " << endl;
cin >> m;
int m1 = n;
//Рассматриваем массив
for (int i = 0; i < n; i++) {
//Если номер элемента совпадает с введённым, то присеваем ему значение 0 и уменьшаем счётчик
	if ((i == m))  {
		ma[i] = 0;
		m1--;
	}
}
//Рассматриваем массив
for (int i = 0; i < n; i++) {
//Если элемент равен нулю, то сдвигаем элементы
	if (ma[i] == 0) {
		for (int j = i; j < n; j++)
			ma[j] = ma[j+1];
	}
}
cout << "Массив после удаления элемента:" << endl;
print(ma, m1);
//Вызов функции добавления элементов
dob(ma, m1, m);
return 0;
}
//Определение функции добавления элементов
int* dob(int* ma, int n, int m) {
int k; 
cout<<"Введите количество добавляемых элементов: " << endl;
cin >> k;
//Объявление нового массива
int* mas1; 
//Длина нового массива
int l = n +k;
//Выделение памяти под новой массив
mas1 = new int[l];
//Объявление массива вставляемых элементов
int* a;
a = new int[k];
//Заполнение массива случайными числами от 0 до 7
for (int i = 0; i < k; i++) 
	a[i] = rand() % 7;
cout<<"Массив добавляемых элементов:" << endl;
print(a, k);
// Переменная для прохода по массиву новых элементов
int count = 0;
for (int i = 0; i < l; i++) {
//Если номер элемента меньше или равен заданному, то вставляем элементы старого массива в новый
	if (i <=m) {
		mas1[i] = ma[i];
	}
//Если номер элемента больше заданного и не достигает следующего элемента старого массива, то вставляем новые элементы 
	else if (i >m && i <= m + k) {
		mas1[i] = a[count];
		count++;
	}
//Вставляем оставшиеся элементы старого массива в новый
	else {
		mas1[i] = ma[i-count];
	}
}
cout <<"Массив после добавления элементов:" << endl;
print(mas1, l);
return 0;
}
